\chapter{Methods}

The methods section outlines the steps that will be taken to answer the research questions posed. In order to ensure that the results of this study are reliable and valid, a systematic and comprehensive approach has been taken. The methods consist of three main sections: (1) conducting a systematic literature review, (2) conducting a controlled experiment, and (3) analyzing the results and answering the research questions. Each of these sections is described in detail in the following sections.


\section{Systematic Literature Review}

The first part will be a comprehensive systematic literature review. This literature review aims to provide a comprehensive overview of the current state of research on C\# source generators and the use of reflection in software development. This review will also serve to identify any gaps in the existing research and provide a basis for the design of the experimental study that will be conducted as part of this thesis.

The literature review will be conducted systematically to ensure all relevant literature is identified and analyzed consistently and thoroughly. This will involve a comprehensive search of academic databases, such as Google Scholar, IEEE Xplore, and ACM Digital Library, as well as other relevant sources, such as conference proceedings, technical reports, and blogs. The search will be conducted using a combination of keywords related to C\# source generators and reflection in software development.

Once the literature has been identified, it will be evaluated using a set of inclusion and exclusion criteria to determine which studies are relevant to the research questions of this thesis. The criteria will be based on factors such as the publication date, the relevance of the study to the research questions, and the quality of the study methods.

The selected studies will then be analyzed in detail to extract relevant information on using C\# source generators, the benefits and limitations of this approach, and the impact of using this approach on runtime performance. The information will be organized into themes and categories to facilitate the synthesis of the results and the identification of any patterns or trends in the literature.

Finally, a comprehensive summary of the literature review results will be presented, highlighting the key findings, any gaps in the existing research, and the implications for the design of the experimental study that will be conducted as part of this bachelor thesis.


\section{Experiment and Benchmarking}

The second part of the methods involves conducting a controlled experiment to measure the effect of using C\# source generators to generate static code for reflected code on runtime performance. To do this, we will create two applications: one that uses reflected code and one that uses C\# source generators.

The first application will be a web application based on ASP.NET, as web applications are commonly built using C\# and are well-suited for measuring the performance impact of reflection. This application will have multiple functionalities and will make use of reflection to perform specific tasks.

The second application will be a modified version of the first application. We will use C\# source generators to generate static code for the reflected code used in the first application. This will involve identifying the parts of the code that use reflection and then writing source generators that generate equivalent static code.

The benchmarks will be conducted using BenchmarkDotNet, a powerful .NET library for benchmarking. The aim is to measure the performance of the applications that use reflected code and compare it to the performance of the same applications after modifying them to use C\# source generators to generate static code.

The process will involve setting up a testing environment where the applications will be run and their performance measured. This environment should be as isolated as possible to prevent external factors from influencing the results. The benchmarking process will then be repeated multiple times to ensure consistent results.

The performance of the applications will be measured in terms of key performance indicators such as execution time, memory usage, and CPU utilization. These indicators will be captured using BenchmarkDotNet, which will provide detailed reports on the performance of the applications. The results of the benchmarking process will then be analyzed to determine the impact of using C\# source generators on runtime performance.

It is important to note that the benchmarking process should be well-planned and executed with care to ensure that the results are accurate and meaningful. Appropriate controls will be implemented to achieve this, such as using the same hardware and software configurations for all tests and ensuring that the tested applications represent real-world use cases.


\section{Analysis and Interpretation of Results}

To answer the first research question (RQ.1), we will thoroughly analyze the benchmark results we obtained from our experiment. By comparing the runtime performance of the applications that use reflected code and those that use C\# source generators, we will be able to determine the effect of source generators on runtime performance. The findings from the benchmark results will be compared with the relevant literature to validate our results.

To answer the second research question (RQ.2), we will analyze the findings from the literature review to identify the best practices and any limitations or challenges associated with using C\# source generators. This analysis will also consider the insights gained from the prototype's development. By combining the literature findings and our practical experience, we will provide recommendations for best practices and for overcoming any limitations or challenges when using C\# source generators.


\section{Alternatives}

Although the methods described above are the chosen approach for this thesis, alternative methods were considered but ultimately not selected. One alternative method that was considered was a survey-based study, which would have involved gathering data from software developers about their experiences using C\# source generators and reflection in software development. However, it was determined that this approach would not provide the level of detail and depth required to answer the research questions posed. The reason is that C\# source generators are a novel field. Therefore, there is a lack of experts. Furthermore, it is unlikely that any potential expert would have been able to formulate an objective opinion in such a short amount of time.

Another alternative method was a case study approach, which would have involved analyzing the use of C\# source generators and reflection in a real-world software development project. However, this approach was not chosen due to the difficulty in finding an appropriate case study with the necessary level of detail and the potential limitations of generalizability to other projects.